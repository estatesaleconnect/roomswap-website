<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery – Current Inventory | Room Swap Consignments in Holly Hill, SC</title>
    <meta name="description" content="Browse current consignment furniture and home decor inventory at Room Swap in Holly Hill, SC. New pieces added weekly. Visit our 4,000 sq ft showroom.">
    <link rel="canonical" href="https://www.roomswapsc.com/gallery.html">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <meta property="og:title" content="Current Inventory | Room Swap Consignments">
    <meta property="og:description" content="Browse our latest consignment furniture, home decor, and vintage finds in Holly Hill, SC. New pieces weekly.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.roomswapsc.com/gallery.html">
    <meta property="og:site_name" content="Room Swap Consignments">
    <meta property="og:image" content="https://www.roomswapsc.com/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Room Swap Consignments — Current Inventory Gallery">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Crimson+Text:wght@400;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <div class="header-container">
            <a href="index.html" class="logo-container" aria-label="Room Swap - Furniture & Treasures - Home">
                <span class="logo-main">ROOM SWAP</span>
                <span class="logo-secondary">CONSIGNMENTS</span>
                <span class="logo-divider"></span>
                <span class="logo-sub">Furniture &amp; Treasures</span>
            </a>
            <a href="tel:8439001412" class="header-phone" aria-label="Call or text us">843-900-1412</a>
            <button class="menu-toggle" aria-label="Toggle menu">☰</button>
            <nav>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">How It Works</a></li>
                    <li><a href="gallery.html" class="active">Gallery</a></li>
                    <li><a href="sell.html">Sell to Us</a></li>
                    <li><a href="estate-sales.html">Estate Sales</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section>
            <h1 class="section-title">Current Inventory</h1>
            <p>Our showroom inventory changes weekly as pieces sell and new items arrive. Stop by to see everything in person, or check back here regularly for updates on what's currently available.</p>
            <p>If you can't make it in today, call or text <a href="tel:8439001412">843-900-1412</a>. We're happy to take Venmo or credit card payments over the phone.</p>
            <p style="margin-top: 1rem; color: var(--warm-gray); font-style: italic;">Photos are updated weekly. Inventory changes fast, and not all items shown may still be available.</p>
        </section>

        <section>
            <div class="gallery-search-wrap">
                <input type="text" id="gallery-search" class="gallery-search" placeholder="Search inventory — try &quot;dresser&quot;, &quot;lamp&quot;, &quot;vintage&quot;..." aria-label="Search gallery items">
                <span class="gallery-search-icon">&#128269;</span>
                <div id="gallery-count" class="gallery-count"></div>
            </div>
            <div id="gallery-container" class="gallery-grid">
                <div class="loading">Loading gallery...</div>
            </div>
            <div id="no-results" class="no-results" style="display: none;">
                <p>No photos have been added yet. Check back soon, or visit us in person to see our full inventory.</p>
            </div>
            <div id="no-search-results" class="no-results" style="display: none;">
                <p>No items match your search. Try a different term, or <a href="tel:8439001412">call us at 843-900-1412</a> to ask about specific pieces.</p>
            </div>
        </section>

        <section>
            <h2 class="section-title">What You'll Find at Room Swap</h2>
            <p>Our 4,000 square foot showroom in Holly Hill, SC features a rotating selection of consignment furniture, home decor, vintage finds, jewelry, books, vinyl records, and unique treasures. Inventory changes weekly as pieces sell and new items arrive from estates, consignors, and our buying trips across the South Carolina Lowcountry — including Charleston, Summerville, Orangeburg, Goose Creek, Moncks Corner, St. George, and Santee.</p>
            <p>From mid-century modern dressers and farmhouse dining tables to antique jewelry and one-of-a-kind collectibles, every visit is different. We inspect every piece for quality before it hits the floor, so you can shop with confidence.</p>
        </section>

        <section class="gallery-cta-section">
            <h2 class="section-title centered-title">See Something You Like?</h2>
            <p class="centered-text">Items sell fast — if you see a piece you love, call or stop by before it's gone.</p>
            <div class="centered-links">
                <a href="tel:8439001412" class="cta-button">Call or Text 843-900-1412</a>
                <a href="contact.html" class="cta-button cta-button-outline">Get Directions</a>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <p><strong>Room Swap Consignments</strong></p>
            <p>8531 Old State Road, Holly Hill, SC 29059</p>
            <p>Phone: <a href="tel:8439001412">843-900-1412</a> | Email: <a href="mailto:roomswapsc@gmail.com">roomswapsc@gmail.com</a></p>
            <p class="footer-hours">Open Tuesday – Saturday, 12 – 5 PM</p>
            <div class="footer-links">
                <a href="index.html">Home</a>
                <a href="about.html">How It Works</a>
                <a href="gallery.html">Gallery</a>
                <a href="sell.html">Sell to Us</a>
                <a href="estate-sales.html">Estate Sales</a>
                <a href="contact.html">Contact</a>
            </div>
        </div>
    </footer>

    <script>
        document.querySelector('.menu-toggle').addEventListener('click', function() {
            document.querySelector('nav').classList.toggle('active');
        });
        document.addEventListener('click', function(event) {
            const nav = document.querySelector('nav');
            const toggle = document.querySelector('.menu-toggle');
            if (!nav.contains(event.target) && !toggle.contains(event.target)) {
                nav.classList.remove('active');
            }
        });

        // Gallery state
        var allGalleryItems = [];

        // Load gallery from CMS via GitHub API
        async function loadGallery() {
            const container = document.getElementById('gallery-container');
            const noResults = document.getElementById('no-results');
            const searchWrap = document.querySelector('.gallery-search-wrap');

            try {
                // Fetch gallery items from GitHub API
                const response = await fetch('https://api.github.com/repos/estatesaleconnect/roomswap-website/contents/_gallery');

                if (!response.ok) {
                    throw new Error('Gallery not found');
                }

                const files = await response.json();
                const jsonFiles = files.filter(file => file.name.endsWith('.json') && file.name !== 'gallery.json');

                if (jsonFiles.length === 0) {
                    container.style.display = 'none';
                    noResults.style.display = 'block';
                    searchWrap.style.display = 'none';
                    return;
                }

                // Fetch each JSON file
                const items = await Promise.all(
                    jsonFiles.map(async (file) => {
                        const fileResponse = await fetch(file.download_url);
                        return await fileResponse.json();
                    })
                );

                // Sort items by date (newest first)
                items.sort((a, b) => new Date(b.date) - new Date(a.date));

                // Store globally for search filtering
                allGalleryItems = items;

                // Render all items
                renderGallery(items);

            } catch (error) {
                console.log('Gallery error:', error);
                container.style.display = 'none';
                noResults.style.display = 'block';
                searchWrap.style.display = 'none';
            }
        }

        // Render gallery items to the page
        function renderGallery(items) {
            var container = document.getElementById('gallery-container');
            var noResults = document.getElementById('no-results');
            var noSearchResults = document.getElementById('no-search-results');
            var countEl = document.getElementById('gallery-count');
            var searchInput = document.getElementById('gallery-search');
            var isSearching = searchInput.value.trim().length > 0;

            container.innerHTML = '';

            if (items.length === 0) {
                container.style.display = 'none';
                if (isSearching) {
                    noSearchResults.style.display = 'block';
                    noResults.style.display = 'none';
                } else {
                    noResults.style.display = 'block';
                    noSearchResults.style.display = 'none';
                }
                countEl.textContent = '';
                return;
            }

            container.style.display = '';
            noResults.style.display = 'none';
            noSearchResults.style.display = 'none';

            if (isSearching) {
                countEl.textContent = items.length + ' item' + (items.length !== 1 ? 's' : '') + ' found';
            } else {
                countEl.textContent = items.length + ' item' + (items.length !== 1 ? 's' : '') + ' in gallery';
            }

            items.forEach(function(item) {
                var galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';

                var img = document.createElement('img');
                img.src = item.image.startsWith('/') ? item.image : '/' + item.image;
                img.alt = item.title || 'Room Swap inventory item';
                img.loading = 'lazy';

                img.onerror = function() {
                    this.parentElement.style.display = 'none';
                };

                galleryItem.appendChild(img);

                if (item.title || item.description) {
                    var caption = document.createElement('div');
                    caption.className = 'gallery-caption';

                    var captionText = '';
                    if (item.title) captionText += '<strong>' + item.title + '</strong>';
                    if (item.description) captionText += (item.title ? '<br>' : '') + item.description;

                    caption.innerHTML = captionText;
                    galleryItem.appendChild(caption);
                }

                container.appendChild(galleryItem);
            });
        }

        // Search/filter gallery items
        function filterGallery() {
            var query = document.getElementById('gallery-search').value.trim().toLowerCase();

            if (!query) {
                renderGallery(allGalleryItems);
                return;
            }

            var filtered = allGalleryItems.filter(function(item) {
                var title = (item.title || '').toLowerCase();
                var desc = (item.description || '').toLowerCase();
                return title.indexOf(query) !== -1 || desc.indexOf(query) !== -1;
            });

            renderGallery(filtered);
        }

        // Search input listener with debounce
        var searchTimeout;
        document.getElementById('gallery-search').addEventListener('input', function() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(filterGallery, 200);
        });

        // Load gallery on page load
        loadGallery();
    </script>
</body>
</html>
